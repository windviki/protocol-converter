2025-10-24 14:26:56,838 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:26:56,840 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:243 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:26:56,840 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:244 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:26:56,840 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:26:56,843 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_g3v673mw
2025-10-24 14:26:56,860 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:28:04,885 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:28:04,893 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:28:04,893 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:28:04,893 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:28:04,897 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_10n64430
2025-10-24 14:28:04,919 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:28:04,920 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:28:05,222 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:28:05,227 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:28:05,232 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:28:05,232 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3']
2025-10-24 14:28:05,235 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3']
2025-10-24 14:28:05,235 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:28:05,244 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:28:05,245 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:28:05,246 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:28:05,247 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:28:05,248 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:28:05,248 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:28:05,249 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:28:05,249 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:28:05,250 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:28:05,250 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:28:05,251 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:254 - 加载了 10 个输入数据文件
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:28:05,252 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:282 - 地址拆分合并测试用例: 2
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:286 - 动态数组测试用例: 1
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:290 - Jinja2特性测试用例: 3
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:293 - 
=== 测试总结 ===
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:294 - 总测试数: 0
2025-10-24 14:28:05,252 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:295 - 成功转换: 0
2025-10-24 14:28:05,260 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:301 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_10n64430\test_results.json
2025-10-24 14:28:05,266 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:315 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_10n64430
2025-10-24 14:28:05,266 | INFO     | test_comprehensive_navigation:<module>:321 - 
=== 所有综合测试完成! ===
2025-10-24 14:32:12,380 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:32:12,380 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:32:12,380 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:32:12,380 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:32:12,387 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_xn987cro
2025-10-24 14:32:12,402 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:32:12,402 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:32:12,601 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: Expecting ',' delimiter: line 10 column 41 (char 247)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: unexpected char '\\\\' at 228", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: unexpected char '\\\\' at 439", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: unexpected char '\\\\' at 614", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: Expecting ',' delimiter: line 19 column 68 (char 674)"]}
2025-10-24 14:32:12,603 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:32:12,607 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:32:12,609 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3']
2025-10-24 14:32:12,610 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3']
2025-10-24 14:32:12,612 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:32:12,615 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:32:12,616 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:32:12,617 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:32:12,617 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:32:12,618 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:32:12,618 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:32:12,619 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:32:12,620 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:32:12,620 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:32:12,620 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:32:12,621 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:32:12,621 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:254 - 加载了 10 个输入数据文件
2025-10-24 14:32:12,621 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:32:12,621 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:32:12,622 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:32:12,622 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:32:12,622 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:32:12,622 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:32:12,622 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:32:12,622 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:32:12,622 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:32:12,622 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:32:12,622 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:32:12,623 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:32:12,623 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:32:12,623 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:32:12,623 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:32:12,623 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:32:12,623 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:32:12,623 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:32:12,624 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:32:12,624 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:32:12,624 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:32:12,624 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:32:12,624 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:32:12,624 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:32:12,624 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:32:12,624 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:32:12,626 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:32:12,626 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:282 - 地址拆分合并测试用例: 2
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:286 - 动态数组测试用例: 1
2025-10-24 14:32:12,626 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:32:12,627 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:290 - Jinja2特性测试用例: 3
2025-10-24 14:32:12,627 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:293 - 
=== 测试总结 ===
2025-10-24 14:32:12,627 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:294 - 总测试数: 0
2025-10-24 14:32:12,627 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:295 - 成功转换: 0
2025-10-24 14:32:12,629 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:301 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_xn987cro\test_results.json
2025-10-24 14:32:12,631 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:315 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_xn987cro
2025-10-24 14:32:12,631 | INFO     | test_comprehensive_navigation:<module>:321 - 
=== 所有综合测试完成! ===
2025-10-24 14:34:57,044 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:34:57,045 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:34:57,045 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:34:57,045 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:34:57,048 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_gjxek5z1
2025-10-24 14:34:57,067 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:34:57,067 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:34:57,361 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 14, 'failed_files': 1, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: unexpected char '\\\\' at 279"]}
2025-10-24 14:34:57,365 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:34:57,370 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:34:57,374 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:34:57,377 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:34:57,379 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:34:57,381 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:34:57,382 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:34:57,382 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:34:57,383 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:34:57,383 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:34:57,384 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:34:57,384 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:34:57,384 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:34:57,386 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:34:57,386 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:34:57,387 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:34:57,387 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:254 - 加载了 10 个输入数据文件
2025-10-24 14:34:57,387 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:34:57,388 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:34:57,388 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:34:57,388 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:34:57,388 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:34:57,388 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:34:57,388 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:34:57,389 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:34:57,389 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:34:57,389 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:34:57,389 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:34:57,389 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:34:57,389 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:34:57,389 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:34:57,390 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:34:57,390 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:34:57,390 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:34:57,390 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:34:57,390 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:34:57,390 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:34:57,390 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:34:57,390 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:34:57,391 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:34:57,391 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:34:57,391 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:34:57,391 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:265 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:34:57,391 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:34:57,391 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:34:57,391 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:34:57,391 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:282 - 地址拆分合并测试用例: 2
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:286 - 动态数组测试用例: 1
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:290 - Jinja2特性测试用例: 3
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:293 - 
=== 测试总结 ===
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:294 - 总测试数: 0
2025-10-24 14:34:57,392 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:295 - 成功转换: 0
2025-10-24 14:34:57,394 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:301 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_gjxek5z1\test_results.json
2025-10-24 14:34:57,396 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:315 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_gjxek5z1
2025-10-24 14:34:57,396 | INFO     | test_comprehensive_navigation:<module>:321 - 
=== 所有综合测试完成! ===
2025-10-24 14:39:28,155 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:39:28,156 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:39:28,156 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:39:28,156 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:39:28,158 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_mv10ls70
2025-10-24 14:39:28,177 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:39:28,177 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:39:28,363 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 8, 'failed_files': 7, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: 原始错误 Expecting ',' delimiter: line 10 column 41 (char 247), 修复后错误 Expecting ',' delimiter: line 10 column 41 (char 247)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: 原始错误 Expecting ',' delimiter: line 7 column 35 (char 152), 修复后错误 Expecting ',' delimiter: line 7 column 35 (char 152)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: 原始错误 Expecting ',' delimiter: line 8 column 35 (char 229), 修复后错误 Expecting ',' delimiter: line 8 column 35 (char 229)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: 原始错误 Expecting ',' delimiter: line 13 column 63 (char 440), 修复后错误 Expecting ',' delimiter: line 13 column 63 (char 440)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: 原始错误 Expecting ',' delimiter: line 8 column 35 (char 188), 修复后错误 Expecting ',' delimiter: line 8 column 35 (char 188)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: 原始错误 Expecting ',' delimiter: line 27 column 37 (char 615), 修复后错误 Expecting ',' delimiter: line 27 column 37 (char 615)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: 原始错误 Expecting ',' delimiter: line 19 column 68 (char 677), 修复后错误 Expecting ',' delimiter: line 19 column 68 (char 677)"]}
2025-10-24 14:39:28,366 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:39:28,369 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:39:28,371 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:39:28,374 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:39:28,375 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:39:28,378 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:39:28,381 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-1: 'template_content'
2025-10-24 14:39:28,382 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-2: 'template_content'
2025-10-24 14:39:28,382 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-3: 'template_content'
2025-10-24 14:39:28,382 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-4: 'template_content'
2025-10-24 14:39:28,383 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-1: 'template_content'
2025-10-24 14:39:28,384 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-2: 'template_content'
2025-10-24 14:39:28,392 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-3: 'template_content'
2025-10-24 14:39:28,397 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-4: 'template_content'
2025-10-24 14:39:28,400 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-5: 'template_content'
2025-10-24 14:39:28,402 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-1: 'template_content'
2025-10-24 14:39:28,402 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-2: 'template_content'
2025-10-24 14:39:28,405 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-3: 'template_content'
2025-10-24 14:39:28,408 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-4: 'template_content'
2025-10-24 14:39:28,412 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-5: 'template_content'
2025-10-24 14:39:28,416 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1: 'template_content'
2025-10-24 14:39:28,420 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1-bidirectional: 'template_content'
2025-10-24 14:39:28,422 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-array: 'template_content'
2025-10-24 14:39:28,427 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1: 'template_content'
2025-10-24 14:39:28,430 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-bidirectional: 'template_content'
2025-10-24 14:39:28,432 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-single: 'template_content'
2025-10-24 14:39:28,435 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-array-context: 'template_content'
2025-10-24 14:39:28,436 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:39:28,437 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:39:28,437 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:39:28,438 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:39:28,438 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:39:28,439 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:39:28,439 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:39:28,440 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:39:28,441 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:39:28,443 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:39:28,443 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:39:28,443 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:39:28,443 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:39:28,443 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:39:28,443 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:39:28,444 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:39:28,444 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:39:28,444 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:39:28,444 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:39:28,444 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:39:28,444 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:39:28,444 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:39:28,444 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:39:28,444 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:39:28,445 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:39:28,445 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:39:28,445 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:39:28,445 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:39:28,445 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:39:28,445 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:39:28,445 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:39:28,445 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:39:28,446 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:39:28,446 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:39:28,446 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:39:28,446 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:39:28,446 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:39:28,447 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:39:28,447 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:39:28,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:39:28,448 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 0
2025-10-24 14:39:28,448 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 0
2025-10-24 14:39:28,450 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_mv10ls70\test_results.json
2025-10-24 14:39:28,451 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_mv10ls70
2025-10-24 14:39:28,452 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:40:08,738 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:40:08,738 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:40:08,738 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:40:08,739 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:40:08,741 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_4gs_wy0m
2025-10-24 14:40:08,764 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:40:08,764 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:40:08,926 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 8, 'failed_files': 7, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: 原始错误 Expecting ',' delimiter: line 10 column 41 (char 247), 修复后错误 Expecting ',' delimiter: line 10 column 41 (char 247)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: 原始错误 Expecting ',' delimiter: line 7 column 35 (char 152), 修复后错误 Expecting ',' delimiter: line 7 column 35 (char 152)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: 原始错误 Expecting ',' delimiter: line 8 column 35 (char 229), 修复后错误 Expecting ',' delimiter: line 8 column 35 (char 229)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: 原始错误 Expecting ',' delimiter: line 13 column 63 (char 440), 修复后错误 Expecting ',' delimiter: line 13 column 63 (char 440)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: 原始错误 Expecting ',' delimiter: line 8 column 35 (char 188), 修复后错误 Expecting ',' delimiter: line 8 column 35 (char 188)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: 原始错误 Expecting ',' delimiter: line 27 column 37 (char 615), 修复后错误 Expecting ',' delimiter: line 27 column 37 (char 615)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: 加载JSON文件失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: JSON解析失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: 原始错误 Expecting ',' delimiter: line 19 column 68 (char 677), 修复后错误 Expecting ',' delimiter: line 19 column 68 (char 677)"]}
2025-10-24 14:40:08,929 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:40:08,933 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:40:08,935 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:40:08,937 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:40:08,939 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:40:08,941 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:40:08,945 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-1: 'template_content'
2025-10-24 14:40:08,945 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-2: 'template_content'
2025-10-24 14:40:08,945 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-3: 'template_content'
2025-10-24 14:40:08,945 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-4: 'template_content'
2025-10-24 14:40:08,947 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-1: 'template_content'
2025-10-24 14:40:08,947 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-2: 'template_content'
2025-10-24 14:40:08,953 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-3: 'template_content'
2025-10-24 14:40:08,955 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-4: 'template_content'
2025-10-24 14:40:08,958 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-5: 'template_content'
2025-10-24 14:40:08,960 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-1: 'template_content'
2025-10-24 14:40:08,960 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-2: 'template_content'
2025-10-24 14:40:08,964 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-3: 'template_content'
2025-10-24 14:40:08,967 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-4: 'template_content'
2025-10-24 14:40:08,970 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-5: 'template_content'
2025-10-24 14:40:08,976 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1: 'template_content'
2025-10-24 14:40:08,979 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1-bidirectional: 'template_content'
2025-10-24 14:40:08,981 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-array: 'template_content'
2025-10-24 14:40:08,988 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1: 'template_content'
2025-10-24 14:40:08,992 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-bidirectional: 'template_content'
2025-10-24 14:40:08,997 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-single: 'template_content'
2025-10-24 14:40:09,000 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-array-context: 'template_content'
2025-10-24 14:40:09,002 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:40:09,003 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:40:09,003 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:40:09,004 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:40:09,005 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:40:09,005 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:40:09,006 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:40:09,007 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:40:09,007 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:40:09,008 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:40:09,008 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:40:09,009 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:40:09,009 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:40:09,009 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:40:09,009 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:40:09,011 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:40:09,011 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:40:09,011 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:40:09,011 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:40:09,011 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:40:09,011 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:40:09,011 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:40:09,011 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:40:09,011 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:40:09,012 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:40:09,012 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:40:09,012 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:40:09,012 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:40:09,013 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:40:09,013 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:40:09,014 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:40:09,014 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:40:09,015 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 0
2025-10-24 14:40:09,016 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 0
2025-10-24 14:40:09,017 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_4gs_wy0m\test_results.json
2025-10-24 14:40:09,019 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_4gs_wy0m
2025-10-24 14:40:09,019 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:48:44,410 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:48:44,411 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:48:44,411 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:48:44,411 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:48:44,413 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_izv9dnzr
2025-10-24 14:48:44,432 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:48:44,432 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:48:44,631 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:48:44,635 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:48:44,639 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:48:44,642 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:48:44,643 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:48:44,645 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:48:44,647 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:48:44,652 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-1: 'template_content'
2025-10-24 14:48:44,652 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-2: 'template_content'
2025-10-24 14:48:44,652 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-3: 'template_content'
2025-10-24 14:48:44,652 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 A-4: 'template_content'
2025-10-24 14:48:44,654 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-1: 'template_content'
2025-10-24 14:48:44,655 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-2: 'template_content'
2025-10-24 14:48:44,655 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-3: 'template_content'
2025-10-24 14:48:44,664 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-4: 'template_content'
2025-10-24 14:48:44,669 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 B-5: 'template_content'
2025-10-24 14:48:44,671 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-1: 'template_content'
2025-10-24 14:48:44,672 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-2: 'template_content'
2025-10-24 14:48:44,672 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-3: 'template_content'
2025-10-24 14:48:44,675 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-4: 'template_content'
2025-10-24 14:48:44,678 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 C-5: 'template_content'
2025-10-24 14:48:44,684 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1: 'template_content'
2025-10-24 14:48:44,688 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-1-bidirectional: 'template_content'
2025-10-24 14:48:44,692 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestA-array: 'template_content'
2025-10-24 14:48:44,698 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1: 'template_content'
2025-10-24 14:48:44,703 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-bidirectional: 'template_content'
2025-10-24 14:48:44,703 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-1-single: 'template_content'
2025-10-24 14:48:44,710 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:268 - 转换器加载协议失败 TestC-array-context: 'template_content'
2025-10-24 14:48:44,711 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:48:44,711 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:48:44,712 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:48:44,713 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:48:44,714 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:48:44,714 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:48:44,714 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:48:44,714 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:48:44,717 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:48:44,718 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:48:44,718 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:48:44,718 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:48:44,718 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:48:44,718 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:48:44,719 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:48:44,719 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:48:44,719 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:48:44,719 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:48:44,719 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-4 - No matching protocol found for A
2025-10-24 14:48:44,720 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:48:44,720 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: A-5 - No matching protocol found for A
2025-10-24 14:48:44,720 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:48:44,720 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:48:44,720 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:48:44,720 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:48:44,720 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:48:44,720 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:48:44,721 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:48:44,721 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 14:48:44,721 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:48:44,721 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:48:44,721 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:48:44,721 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:48:44,721 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:48:44,722 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:48:44,722 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:48:44,722 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 0
2025-10-24 14:48:44,722 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 0
2025-10-24 14:48:44,727 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_izv9dnzr\test_results.json
2025-10-24 14:48:44,729 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_izv9dnzr
2025-10-24 14:48:44,730 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:49:42,670 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:49:42,670 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:49:42,670 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:49:42,670 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:49:42,671 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_x1cdgnd3
2025-10-24 14:49:42,680 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:49:42,680 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:49:42,769 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:49:42,769 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:49:42,769 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:49:42,774 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:49:42,774 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:49:42,774 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:49:42,776 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:49:42,778 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-1
2025-10-24 14:49:42,778 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-2
2025-10-24 14:49:42,778 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-3
2025-10-24 14:49:42,783 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-4
2025-10-24 14:49:42,786 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-1
2025-10-24 14:49:42,788 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-2
2025-10-24 14:49:42,789 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-3
2025-10-24 14:49:42,794 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-4
2025-10-24 14:49:42,802 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-5
2025-10-24 14:49:42,804 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-1
2025-10-24 14:49:42,804 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-2
2025-10-24 14:49:42,813 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-3
2025-10-24 14:49:42,823 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-4
2025-10-24 14:49:42,841 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-5
2025-10-24 14:49:42,844 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1
2025-10-24 14:49:42,847 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1-bidirectional
2025-10-24 14:49:42,852 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-array
2025-10-24 14:49:42,857 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1
2025-10-24 14:49:42,865 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-bidirectional
2025-10-24 14:49:42,867 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-single
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-array-context
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:49:42,872 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:49:42,876 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:49:42,876 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:49:42,876 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:49:42,876 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:49:42,876 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:49:42,880 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-4 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,880 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:49:42,884 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-5 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,884 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:49:42,884 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:49:42,886 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-4 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,886 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:49:42,887 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-5 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,887 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:49:42,887 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:49:42,893 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: B-4 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,893 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:49:42,894 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:49:42,894 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:49:42,894 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: B-4 - 'Logger' object has no attribute 'success'
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:49:42,902 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 0
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 0
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_x1cdgnd3\test_results.json
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_x1cdgnd3
2025-10-24 14:49:42,902 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:50:53,178 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:50:53,178 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:50:53,178 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:50:53,178 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:50:53,178 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_5eg7pvzh
2025-10-24 14:50:53,187 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:50:53,187 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:50:53,271 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:50:53,271 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:50:53,277 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:50:53,278 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:50:53,279 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:50:53,279 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:50:53,280 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:50:53,282 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-1
2025-10-24 14:50:53,282 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-2
2025-10-24 14:50:53,282 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-3
2025-10-24 14:50:53,287 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-4
2025-10-24 14:50:53,287 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-1
2025-10-24 14:50:53,292 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-2
2025-10-24 14:50:53,292 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-3
2025-10-24 14:50:53,296 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-4
2025-10-24 14:50:53,306 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-5
2025-10-24 14:50:53,306 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-1
2025-10-24 14:50:53,306 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-2
2025-10-24 14:50:53,315 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-3
2025-10-24 14:50:53,322 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-4
2025-10-24 14:50:53,340 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-5
2025-10-24 14:50:53,343 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1
2025-10-24 14:50:53,347 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1-bidirectional
2025-10-24 14:50:53,350 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-array
2025-10-24 14:50:53,355 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1
2025-10-24 14:50:53,364 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-bidirectional
2025-10-24 14:50:53,367 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-single
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-array-context
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:50:53,372 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:50:53,378 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:50:53,379 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-4 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,379 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:50:53,380 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:50:53,380 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-5 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,380 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:50:53,380 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:50:53,380 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:50:53,380 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-4 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,380 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:50:53,385 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:50:53,385 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: A-5 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,385 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:50:53,385 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:50:53,390 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:50:53,390 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: B-4 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,390 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:50:53,390 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:50:53,390 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:50:53,390 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:50:53,399 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:50:53,399 | ERROR    | test_comprehensive_navigation:test_conversion:140 - ✗ 转换异常: B-4 - 'ConversionResult' object has no attribute 'extracted_variables'
2025-10-24 14:50:53,399 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:50:53,399 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:50:53,399 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:50:53,400 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:50:53,400 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:50:53,400 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:50:53,400 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:50:53,400 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 0
2025-10-24 14:50:53,401 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 0
2025-10-24 14:50:53,402 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_5eg7pvzh\test_results.json
2025-10-24 14:50:53,402 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_5eg7pvzh
2025-10-24 14:50:53,403 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:51:57,157 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:51:57,157 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:51:57,157 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:51:57,157 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:51:57,162 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_6tiz6ko8
2025-10-24 14:51:57,182 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:51:57,182 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:51:57,390 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:51:57,395 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:51:57,399 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:51:57,401 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:51:57,403 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:51:57,405 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:51:57,407 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:51:57,415 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-1
2025-10-24 14:51:57,420 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-2
2025-10-24 14:51:57,420 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-3
2025-10-24 14:51:57,429 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-4
2025-10-24 14:51:57,435 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-1
2025-10-24 14:51:57,440 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-2
2025-10-24 14:51:57,443 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-3
2025-10-24 14:51:57,453 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-4
2025-10-24 14:51:57,479 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-5
2025-10-24 14:51:57,485 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-1
2025-10-24 14:51:57,490 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-2
2025-10-24 14:51:57,505 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-3
2025-10-24 14:51:57,526 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-4
2025-10-24 14:51:57,574 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-5
2025-10-24 14:51:57,583 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1
2025-10-24 14:51:57,596 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1-bidirectional
2025-10-24 14:51:57,602 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-array
2025-10-24 14:51:57,616 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1
2025-10-24 14:51:57,631 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-bidirectional
2025-10-24 14:51:57,641 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-single
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-array-context
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:51:57,656 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:51:57,662 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:51:57,663 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:51:57,663 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:51:57,664 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:51:57,664 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:51:57,664 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:51:57,665 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:51:57,671 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:51:57,671 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 14:51:57,671 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:51:57,679 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:51:57,679 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 14:51:57,679 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:51:57,680 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:51:57,686 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:51:57,686 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 14:51:57,686 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:51:57,693 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:51:57,694 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 14:51:57,694 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:51:57,694 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:51:57,710 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:51:57,710 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 14:51:57,711 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:51:57,711 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:51:57,711 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:51:57,711 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:51:57,740 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:51:57,740 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": ""
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_736c4bd",
        "conversion_id": "conv_736c4bdf4231",
        "timestamp": "2025-10-24T14:51:57",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:51:57,741 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:51:57,741 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:51:57,741 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:51:57,741 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:51:57,741 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:51:57,742 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:51:57,742 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:51:57,743 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:51:57,743 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 6
2025-10-24 14:51:57,743 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 6
2025-10-24 14:51:57,746 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_6tiz6ko8\test_results.json
2025-10-24 14:51:57,748 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_6tiz6ko8
2025-10-24 14:51:57,749 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:52:18,102 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:52:18,102 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:52:18,102 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:52:18,102 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:52:18,102 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_ceyqhb92
2025-10-24 14:52:18,113 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:52:18,114 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:52:18,199 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:52:18,204 | INFO     | test_comprehensive_navigation:load_protocols:92 - 可用协议族: ['A', 'B', 'C', 'TestA', 'TestC']
2025-10-24 14:52:18,204 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 14:52:18,204 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 14:52:18,208 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 14:52:18,209 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestA: ['TestA-1', 'TestA-1-bidirectional', 'TestA-array']
2025-10-24 14:52:18,209 | INFO     | test_comprehensive_navigation:load_protocols:96 - 协议族 TestC: ['TestC-1', 'TestC-1-bidirectional', 'TestC-1-single', 'TestC-array-context']
2025-10-24 14:52:18,213 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-1
2025-10-24 14:52:18,215 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-2
2025-10-24 14:52:18,217 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-3
2025-10-24 14:52:18,220 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: A-4
2025-10-24 14:52:18,224 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-1
2025-10-24 14:52:18,226 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-2
2025-10-24 14:52:18,229 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-3
2025-10-24 14:52:18,236 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-4
2025-10-24 14:52:18,247 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: B-5
2025-10-24 14:52:18,251 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-1
2025-10-24 14:52:18,254 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-2
2025-10-24 14:52:18,262 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-3
2025-10-24 14:52:18,272 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-4
2025-10-24 14:52:18,298 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: C-5
2025-10-24 14:52:18,304 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1
2025-10-24 14:52:18,310 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-1-bidirectional
2025-10-24 14:52:18,313 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestA-array
2025-10-24 14:52:18,320 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1
2025-10-24 14:52:18,333 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-bidirectional
2025-10-24 14:52:18,338 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-1-single
2025-10-24 14:52:18,344 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:266 - 转换器加载协议: TestC-array-context
2025-10-24 14:52:18,345 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-1
2025-10-24 14:52:18,345 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-2
2025-10-24 14:52:18,346 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-3
2025-10-24 14:52:18,346 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-4
2025-10-24 14:52:18,347 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: A-5
2025-10-24 14:52:18,347 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-4
2025-10-24 14:52:18,348 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: B-5
2025-10-24 14:52:18,348 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-3
2025-10-24 14:52:18,349 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-4
2025-10-24 14:52:18,349 | INFO     | test_comprehensive_navigation:load_input_data:116 - 加载输入数据: C-5
2025-10-24 14:52:18,350 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:272 - 加载了 10 个输入数据文件
2025-10-24 14:52:18,350 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> B 转换 ---
2025-10-24 14:52:18,350 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-4)
2025-10-24 14:52:18,355 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:52:18,356 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 14:52:18,356 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> B (A-5)
2025-10-24 14:52:18,360 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:52:18,360 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 14:52:18,361 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 A -> C 转换 ---
2025-10-24 14:52:18,361 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-4)
2025-10-24 14:52:18,365 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-4
2025-10-24 14:52:18,365 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 14:52:18,366 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: A -> C (A-5)
2025-10-24 14:52:18,371 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: A-5
2025-10-24 14:52:18,371 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 14:52:18,372 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> A 转换 ---
2025-10-24 14:52:18,372 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-4)
2025-10-24 14:52:18,381 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:52:18,382 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 14:52:18,382 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> A (B-5)
2025-10-24 14:52:18,382 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:52:18,382 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 B -> C 转换 ---
2025-10-24 14:52:18,382 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-4)
2025-10-24 14:52:18,400 | INFO     | test_comprehensive_navigation:test_conversion:130 - ✓ 转换成功: B-4
2025-10-24 14:52:18,401 | INFO     | test_comprehensive_navigation:test_conversion:133 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": ""
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_6227118",
        "conversion_id": "conv_622711856990",
        "timestamp": "2025-10-24T14:52:18",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 14:52:18,402 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: B -> C (B-5)
2025-10-24 14:52:18,402 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 14:52:18,404 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> A 转换 ---
2025-10-24 14:52:18,404 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-4)
2025-10-24 14:52:18,404 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> A (C-5)
2025-10-24 14:52:18,405 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:283 - 
--- 测试 C -> B 转换 ---
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-4)
2025-10-24 14:52:18,405 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_conversion:123 - 测试转换: C -> B (C-5)
2025-10-24 14:52:18,405 | ERROR    | test_comprehensive_navigation:test_conversion:136 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:146 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:300 - 地址拆分合并测试用例: 2
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:185 - 
=== 测试动态数组功能 ===
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:304 - 动态数组测试用例: 1
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:test_jinja2_features:207 - 
=== 测试Jinja2高级特性 ===
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - Jinja2特性测试用例: 3
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:311 - 
=== 测试总结 ===
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 总测试数: 6
2025-10-24 14:52:18,405 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:313 - 成功转换: 6
2025-10-24 14:52:18,410 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_ceyqhb92\test_results.json
2025-10-24 14:52:18,410 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_ceyqhb92
2025-10-24 14:52:18,411 | INFO     | test_comprehensive_navigation:<module>:339 - 
=== 所有综合测试完成! ===
2025-10-24 14:53:51,332 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:53:51,333 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:53:51,333 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:53:51,333 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:53:51,334 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_gnduispj
2025-10-24 14:53:51,337 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:53:51,337 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:53:51,386 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 0, 'failed_files': 15, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-4.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:53:51,390 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:324 - 测试过程中发生错误: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-24 14:53:51,431 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:326 - Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: protocol_families

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 248, in run_comprehensive_tests
    load_result, protocol_manager = load_protocols(protocol_manager, examples_dir)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 91, in load_protocols
    families = protocol_manager.list_all_families()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\protocol_manager\manager.py", line 230, in list_all_families
    families = session.query(ProtocolFamily).all()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-10-24 14:53:51,436 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_gnduispj
2025-10-24 14:53:51,436 | ERROR    | test_comprehensive_navigation:<module>:342 - 
=== 综合测试失败! ===
2025-10-24 14:54:57,258 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:54:57,258 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:240 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:54:57,263 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:54:57,263 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:54:57,263 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_eors7irk
2025-10-24 14:54:57,289 | INFO     | test_comprehensive_navigation:setup_test_environment:66 - ✓ 数据库初始化成功
2025-10-24 14:54:57,290 | INFO     | test_comprehensive_navigation:load_protocols:80 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:54:57,463 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载结果: {'total_files': 15, 'loaded_files': 0, 'failed_files': 15, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-4.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:54:57,463 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:324 - 测试过程中发生错误: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-24 14:54:57,491 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:326 - Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: protocol_families

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 248, in run_comprehensive_tests
    load_result, protocol_manager = load_protocols(protocol_manager, examples_dir)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 91, in load_protocols
    families = protocol_manager.list_all_families()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\protocol_manager\manager.py", line 230, in list_all_families
    families = session.query(ProtocolFamily).all()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-10-24 14:54:57,491 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:333 - 已清理临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_eors7irk
2025-10-24 14:54:57,491 | ERROR    | test_comprehensive_navigation:<module>:342 - 
=== 综合测试失败! ===
2025-10-24 14:57:51,866 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 14:57:51,867 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 14:57:51,867 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:242 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 14:57:51,867 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 14:57:51,869 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test__fb2but4
2025-10-24 14:57:51,949 | INFO     | test_comprehensive_navigation:setup_test_environment:67 - ✓ 数据库初始化成功
2025-10-24 14:57:51,949 | INFO     | test_comprehensive_navigation:load_protocols:81 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 14:57:52,025 | INFO     | test_comprehensive_navigation:load_protocols:89 - 加载结果: {'total_files': 15, 'loaded_files': 0, 'failed_files': 15, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-4.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 14:57:52,030 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:325 - 测试过程中发生错误: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-24 14:57:52,045 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:327 - Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: protocol_families

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 249, in run_comprehensive_tests
    load_result, protocol_manager = load_protocols(protocol_manager, examples_dir)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 92, in load_protocols
    families = protocol_manager.list_all_families()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\protocol_manager\manager.py", line 230, in list_all_families
    families = session.query(ProtocolFamily).all()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-10-24 15:04:40,454 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:04:40,456 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:241 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:04:40,456 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:242 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:04:40,456 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:04:40,462 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_0k_bins_
2025-10-24 15:04:40,701 | INFO     | test_comprehensive_navigation:setup_test_environment:67 - ✓ 数据库初始化成功
2025-10-24 15:04:40,701 | INFO     | test_comprehensive_navigation:load_protocols:81 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:04:40,830 | INFO     | test_comprehensive_navigation:load_protocols:89 - 加载结果: {'total_files': 15, 'loaded_files': 0, 'failed_files': 15, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-4.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('A', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('B', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-1.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-2.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-3.json: (sqlite3.OperationalError) no such table: protocol_families\n[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at \nFROM protocol_families \nWHERE protocol_families.name = ?\n LIMIT ? OFFSET ?]\n[parameters: ('C', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 15:04:40,837 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:325 - 测试过程中发生错误: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-24 15:04:40,863 | ERROR    | test_comprehensive_navigation:run_comprehensive_tests:327 - Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: protocol_families

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 249, in run_comprehensive_tests
    load_result, protocol_manager = load_protocols(protocol_manager, examples_dir)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\tests\test_comprehensive_navigation.py", line 92, in load_protocols
    families = protocol_manager.list_all_families()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\protocol_manager\manager.py", line 230, in list_all_families
    families = session.query(ProtocolFamily).all()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "C:\work\gw\protocol_converter\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: protocol_families
[SQL: SELECT protocol_families.id AS protocol_families_id, protocol_families.name AS protocol_families_name, protocol_families.description AS protocol_families_description, protocol_families.created_at AS protocol_families_created_at, protocol_families.updated_at AS protocol_families_updated_at 
FROM protocol_families]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-10-24 15:06:19,498 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:06:19,499 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:06:19,499 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:250 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:06:19,499 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:06:19,502 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_f_s58jpm
2025-10-24 15:06:32,725 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:06:32,725 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:06:32,726 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:06:32,726 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:06:32,728 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_5nic4dkz
2025-10-24 15:06:32,811 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:06:32,848 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:06:33,058 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 15:06:33,062 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:06:33,066 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 15:06:33,068 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3']
2025-10-24 15:06:33,069 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3']
2025-10-24 15:06:33,076 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:06:33,080 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:06:33,084 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:06:33,089 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:06:33,095 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:06:33,099 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:06:33,103 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:06:33,107 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:06:33,112 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:06:33,127 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:06:33,128 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:06:33,128 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:06:33,129 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:06:33,129 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:06:33,130 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:06:33,130 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:06:33,132 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:06:33,132 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:06:33,133 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:06:33,133 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:06:33,134 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:06:33,134 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:06:33,134 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:06:33,144 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:06:33,145 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:06:33,145 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:06:33,155 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:06:33,155 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:06:33,155 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:06:33,155 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:06:33,163 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:06:33,163 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:06:33,163 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:06:33,171 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:06:33,172 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:06:33,172 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:06:33,172 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:06:33,172 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 15:06:33,172 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:06:33,172 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:06:33,173 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:06:33,173 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:06:33,173 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 15:06:33,173 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:06:33,174 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:06:33,174 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:06:33,174 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:06:33,174 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:06:33,174 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:06:33,174 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 4
2025-10-24 15:06:33,175 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 4
2025-10-24 15:06:33,178 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_5nic4dkz\test_results.json
2025-10-24 15:11:25,107 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:11:25,107 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:11:25,107 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:11:25,107 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:11:25,107 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_j_xg8tbg
2025-10-24 15:11:25,117 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:11:25,153 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:11:25,258 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 10, 'failed_files': 5, 'errors': ["加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\A\\A-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\B\\B-5.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-4.json: expected token 'end of print statement', got 'string'", "加载失败 C:\\work\\gw\\protocol_converter\\examples\\protocols\\C\\C-5.json: expected token 'end of print statement', got 'string'"]}
2025-10-24 15:11:25,260 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:11:25,264 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4']
2025-10-24 15:11:25,267 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3']
2025-10-24 15:11:25,269 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3']
2025-10-24 15:11:25,273 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:11:25,276 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:11:25,279 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:11:25,284 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:11:25,287 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:11:25,291 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:11:25,291 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:11:25,298 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:11:25,303 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:11:25,331 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:11:25,332 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:11:25,334 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:11:25,335 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:11:25,335 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:11:25,336 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:11:25,336 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:11:25,337 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:11:25,337 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:11:25,338 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:11:25,339 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:11:25,339 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:11:25,339 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:11:25,339 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:11:25,355 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:11:25,360 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:11:25,360 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:11:25,375 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:11:25,375 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:11:25,375 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:11:25,375 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:11:25,398 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:11:25,398 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:11:25,399 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:11:25,413 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:11:25,413 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:11:25,413 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:11:25,417 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-4 - No matching protocol found for B
2025-10-24 15:11:25,417 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:11:25,418 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:11:25,418 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:11:25,418 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:11:25,419 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:11:25,419 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:11:25,419 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:11:25,419 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:11:25,419 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:11:25,419 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:11:25,419 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:11:25,419 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:11:25,421 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:11:25,421 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:11:25,421 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:11:25,421 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:11:25,421 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:11:25,422 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:11:25,422 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:11:25,422 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 4
2025-10-24 15:11:25,422 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 4
2025-10-24 15:11:25,424 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_j_xg8tbg\test_results.json
2025-10-24 15:13:35,272 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:13:35,272 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:13:35,272 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:13:35,272 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:13:35,272 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_e7bo5hnj
2025-10-24 15:13:35,277 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:13:35,304 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:13:35,394 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 15, 'failed_files': 0, 'errors': []}
2025-10-24 15:13:35,394 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:13:35,394 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5']
2025-10-24 15:13:35,394 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 15:13:35,399 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 15:13:35,399 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:13:35,399 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:13:35,399 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:13:35,403 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:13:35,408 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-5
2025-10-24 15:13:35,410 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:13:35,412 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:13:35,412 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:13:35,412 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-4
2025-10-24 15:13:35,421 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-5
2025-10-24 15:13:35,423 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:13:35,423 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:13:35,428 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:13:35,433 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-4
2025-10-24 15:13:35,449 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-5
2025-10-24 15:13:35,450 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:13:35,450 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:13:35,450 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:13:35,450 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:13:35,450 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:13:35,451 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:13:35,451 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:13:35,451 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:13:35,451 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:13:35,451 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:13:35,452 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:13:35,452 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:13:35,452 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:13:35,454 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:13:35,455 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:13:35,455 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "name": "Phone_Call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_LABEL"
    }
  ]
}
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:13:35,456 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:13:35,463 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:13:35,463 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "phone.contact.call",
  "slots": [
    {
      "name": "PERSON",
      "value": "None",
      "label": "O"
    },
    {
      "name": "PHONE_TYPE",
      "value": "None",
      "label": "PHONE_TYPE_UNKNOWN"
    }
  ]
}
2025-10-24 15:13:35,463 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:13:35,463 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:13:35,467 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:13:35,467 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 15:13:35,467 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:13:35,467 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:13:35,467 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:13:35,467 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:13:35,478 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:13:35,478 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_7afd50a",
        "conversion_id": "conv_7afd50adaf75",
        "timestamp": "2025-10-24T15:13:35",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:13:35,479 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: B-5 - No matching protocol found for B
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:13:35,479 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:13:35,479 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:13:35,479 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-4 - No matching protocol found for C
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:13:35,479 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - No matching protocol found for C
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:13:35,479 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:13:35,480 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:13:35,480 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:13:35,480 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:13:35,480 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 6
2025-10-24 15:13:35,480 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 6
2025-10-24 15:13:35,481 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_e7bo5hnj\test_results.json
2025-10-24 15:22:12,205 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:22:12,206 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:22:12,206 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:22:12,206 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:22:12,206 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_yjw82_sm
2025-10-24 15:22:12,210 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:22:12,239 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:22:12,351 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 15, 'failed_files': 0, 'errors': []}
2025-10-24 15:22:12,352 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:22:12,354 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5']
2025-10-24 15:22:12,355 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 15:22:12,356 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 15:22:12,358 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:22:12,359 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:22:12,361 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:22:12,363 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:22:12,368 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-5
2025-10-24 15:22:12,371 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:22:12,372 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:22:12,374 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:22:12,377 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-4
2025-10-24 15:22:12,385 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-5
2025-10-24 15:22:12,385 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:22:12,391 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:22:12,398 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:22:12,409 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-4
2025-10-24 15:22:12,435 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-5
2025-10-24 15:22:12,435 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:22:12,435 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:22:12,435 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:22:12,435 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:22:12,440 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:22:12,440 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:22:12,441 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:22:12,441 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:22:12,441 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:22:12,442 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:22:12,442 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:22:12,442 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:22:12,442 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:22:12,451 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:12,451 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "31.2204",
        "longitude": "121.4256"
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:12,451 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:22:12,470 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:12,470 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_ROUTES",
  "slots": {
    "routes": [
      "",
      {
        "road_name": "",
        "road_type": "{% if loop.index == 1 %}primary{% else %}secondary{% endif %}",
        "sequence": "-1",
        "total_segments": "0",
        "address_info": {
          "full_name": "[MISSING:road_name]",
          "admin_level": "city",
          "is_main_road": "false"
        },
        "location": {
          "coordinates": "{{ coordinates | default '{}' }}",
          "landmark": "未知地点"
        },
        "traffic_info": {
          "congestion_level": "unknown",
          "estimated_time": "未知",
          "distance": "未知"
        },
        "metadata": {
          "processing_id": "conv_conv_0f3",
          "processing_progress": "1/1 (100.0%)",
          "conversion_id": "conv_0f3f82977040",
          "protocol_path": "slots.routes.metadata.protocol_path",
          "is_final_segment": "false"
        }
      }
    ],
    "navigation_options": {
      "vehicle": "car",
      "avoid_tolls": "True",
      "route_preference": "fastest",
      "urgency": "normal"
    },
    "context": {
      "operation": "intersection_navigation",
      "source_format": "B-5",
      "target_protocols": [
        "A-4",
        "A-5",
        "C-4",
        "C-5"
      ],
      "session_info": {
        "session_id": "conv_conv_0f3",
        "conversion_timestamp": "20251024152212"
      }
    }
  }
}
2025-10-24 15:22:12,470 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:22:12,470 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:22:12,487 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:12,487 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "false",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_7e59270",
        "conversion_id": "conv_7e59270db372",
        "timestamp": "2025-10-24T15:22:12",
        "protocol": "A_to_A"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:12,487 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:22:12,514 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:12,519 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_8dfc571_segsession_conv_conv_8dfc571",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_8dfc571",
              "conversion_id": "conv_8dfc571deeda",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "True",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "A",
          "target_protocol": "C",
          "conversion_id": "conv_8dfc571deeda",
          "session_id": "session_conv_conv_8dfc571",
          "timestamp": "2025-10-24T15:22:12",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:12,519 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:22:12,519 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:22:12,524 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:12,524 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 15:22:12,524 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:22:12,535 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:12,535 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "MULTI_WAYPOINT",
  "slots": {
    "origin": "",
    "waypoints": [
      "",
      {
        "name": "",
        "type": "unknown",
        "priority": "NORMAL",
        "estimated_time": "unknown",
        "distance": "unknown",
        "coordinates": "{{ coordinates | default '{}' }}"
      }
    ],
    "avoid_tolls": "False",
    "route_preference": "fastest"
  }
}
2025-10-24 15:22:12,535 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:22:12,535 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:22:12,550 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:12,550 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_81456a5",
        "conversion_id": "conv_81456a5c0662",
        "timestamp": "2025-10-24T15:22:12",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:12,550 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:22:12,591 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:12,592 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_985596e_segsession_conv_conv_985596e",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_985596e",
              "conversion_id": "conv_985596eb46a3",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "False",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "B",
          "target_protocol": "C",
          "conversion_id": "conv_985596eb46a3",
          "session_id": "session_conv_conv_985596e",
          "timestamp": "2025-10-24T15:22:12",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:12,593 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:22:12,593 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:22:12,598 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:12,599 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "",
    "urgency": "",
    "route_type": "",
    "coordinates": {
      "latitude": "",
      "longitude": "",
      "address": ""
    }
  }
}
2025-10-24 15:22:12,599 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:22:12,601 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:12,601 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:22:12,601 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:22:12,608 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:12,608 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "天山西路",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "",
        "longitude": ""
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:12,608 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:22:12,611 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:12,611 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:22:12,611 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 10
2025-10-24 15:22:12,612 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 10
2025-10-24 15:22:12,615 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_yjw82_sm\test_results.json
2025-10-24 15:22:37,936 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:22:37,936 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:22:37,936 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:22:37,936 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:22:37,941 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_8tysa25s
2025-10-24 15:22:37,941 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:22:37,971 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:22:38,071 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 15, 'failed_files': 0, 'errors': []}
2025-10-24 15:22:38,073 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:22:38,075 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5']
2025-10-24 15:22:38,076 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 15:22:38,077 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 15:22:38,080 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:22:38,082 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:22:38,084 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:22:38,086 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:22:38,091 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-5
2025-10-24 15:22:38,093 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:22:38,097 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:22:38,099 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:22:38,101 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-4
2025-10-24 15:22:38,113 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-5
2025-10-24 15:22:38,116 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:22:38,116 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:22:38,125 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:22:38,132 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-4
2025-10-24 15:22:38,155 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-5
2025-10-24 15:22:38,156 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:22:38,156 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:22:38,157 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:22:38,157 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:22:38,158 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:22:38,158 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:22:38,159 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:22:38,160 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:22:38,160 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:22:38,160 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:22:38,161 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:22:38,161 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:22:38,161 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:22:38,171 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:38,171 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "31.2204",
        "longitude": "121.4256"
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:38,171 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:22:38,193 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:38,193 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_ROUTES",
  "slots": {
    "routes": [
      "",
      {
        "road_name": "",
        "road_type": "{% if loop.index == 1 %}primary{% else %}secondary{% endif %}",
        "sequence": "-1",
        "total_segments": "0",
        "address_info": {
          "full_name": "[MISSING:road_name]",
          "admin_level": "city",
          "is_main_road": "false"
        },
        "location": {
          "coordinates": "{{ coordinates | default '{}' }}",
          "landmark": "未知地点"
        },
        "traffic_info": {
          "congestion_level": "unknown",
          "estimated_time": "未知",
          "distance": "未知"
        },
        "metadata": {
          "processing_id": "conv_conv_25a",
          "processing_progress": "1/1 (100.0%)",
          "conversion_id": "conv_25a51ec10e67",
          "protocol_path": "slots.routes.metadata.protocol_path",
          "is_final_segment": "false"
        }
      }
    ],
    "navigation_options": {
      "vehicle": "car",
      "avoid_tolls": "True",
      "route_preference": "fastest",
      "urgency": "normal"
    },
    "context": {
      "operation": "intersection_navigation",
      "source_format": "B-5",
      "target_protocols": [
        "A-4",
        "A-5",
        "C-4",
        "C-5"
      ],
      "session_info": {
        "session_id": "conv_conv_25a",
        "conversion_timestamp": "20251024152238"
      }
    }
  }
}
2025-10-24 15:22:38,194 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:22:38,194 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:22:38,210 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:38,211 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "false",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_ba6e5a4",
        "conversion_id": "conv_ba6e5a4ad84e",
        "timestamp": "2025-10-24T15:22:38",
        "protocol": "A_to_A"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:38,213 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:22:38,310 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:38,310 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_1cb71ac_segsession_conv_conv_1cb71ac",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_1cb71ac",
              "conversion_id": "conv_1cb71aca7934",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "True",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "A",
          "target_protocol": "C",
          "conversion_id": "conv_1cb71aca7934",
          "session_id": "session_conv_conv_1cb71ac",
          "timestamp": "2025-10-24T15:22:38",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:38,322 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:22:38,323 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:22:38,343 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:38,374 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 15:22:38,377 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:22:38,414 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:38,414 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "MULTI_WAYPOINT",
  "slots": {
    "origin": "",
    "waypoints": [
      "",
      {
        "name": "",
        "type": "unknown",
        "priority": "NORMAL",
        "estimated_time": "unknown",
        "distance": "unknown",
        "coordinates": "{{ coordinates | default '{}' }}"
      }
    ],
    "avoid_tolls": "False",
    "route_preference": "fastest"
  }
}
2025-10-24 15:22:38,414 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:22:38,414 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:22:38,444 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:38,444 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_54e08b2",
        "conversion_id": "conv_54e08b2f3e01",
        "timestamp": "2025-10-24T15:22:38",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:38,447 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:22:38,547 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:38,548 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_7953d2c_segsession_conv_conv_7953d2c",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_7953d2c",
              "conversion_id": "conv_7953d2cd8079",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "False",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "B",
          "target_protocol": "C",
          "conversion_id": "conv_7953d2cd8079",
          "session_id": "session_conv_conv_7953d2c",
          "timestamp": "2025-10-24T15:22:38",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:38,555 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:22:38,557 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:22:38,570 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:38,570 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "",
    "urgency": "",
    "route_type": "",
    "coordinates": {
      "latitude": "",
      "longitude": "",
      "address": ""
    }
  }
}
2025-10-24 15:22:38,571 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:22:38,576 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:38,577 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:22:38,577 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:22:38,593 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:38,593 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "天山西路",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "",
        "longitude": ""
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:38,598 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:22:38,605 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:38,606 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:22:38,606 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:22:38,606 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:22:38,606 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:22:38,609 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:22:38,610 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:22:38,610 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:22:38,610 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 10
2025-10-24 15:22:38,610 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 10
2025-10-24 15:22:38,615 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_8tysa25s\test_results.json
2025-10-24 15:22:56,737 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:22:56,737 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:22:56,737 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:22:56,737 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:22:56,737 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_33xezxj_
2025-10-24 15:22:56,742 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:22:56,771 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:22:56,893 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 15, 'failed_files': 0, 'errors': []}
2025-10-24 15:22:56,893 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:22:56,897 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5']
2025-10-24 15:22:56,897 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 15:22:56,897 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 15:22:56,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:22:56,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:22:56,902 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:22:56,907 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:22:56,912 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-5
2025-10-24 15:22:56,917 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:22:56,917 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:22:56,923 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:22:56,926 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-4
2025-10-24 15:22:56,935 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-5
2025-10-24 15:22:56,939 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:22:56,939 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:22:56,950 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:22:56,955 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-4
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-5
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:22:56,980 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:22:56,985 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:22:56,985 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:22:56,985 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:22:56,985 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:22:56,993 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:56,993 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "31.2204",
        "longitude": "121.4256"
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:56,993 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:22:57,009 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:57,009 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_ROUTES",
  "slots": {
    "routes": [
      "",
      {
        "road_name": "",
        "road_type": "{% if loop.index == 1 %}primary{% else %}secondary{% endif %}",
        "sequence": "-1",
        "total_segments": "0",
        "address_info": {
          "full_name": "[MISSING:road_name]",
          "admin_level": "city",
          "is_main_road": "false"
        },
        "location": {
          "coordinates": "{{ coordinates | default '{}' }}",
          "landmark": "未知地点"
        },
        "traffic_info": {
          "congestion_level": "unknown",
          "estimated_time": "未知",
          "distance": "未知"
        },
        "metadata": {
          "processing_id": "conv_conv_ca5",
          "processing_progress": "1/1 (100.0%)",
          "conversion_id": "conv_ca5394757d48",
          "protocol_path": "slots.routes.metadata.protocol_path",
          "is_final_segment": "false"
        }
      }
    ],
    "navigation_options": {
      "vehicle": "car",
      "avoid_tolls": "True",
      "route_preference": "fastest",
      "urgency": "normal"
    },
    "context": {
      "operation": "intersection_navigation",
      "source_format": "B-5",
      "target_protocols": [
        "A-4",
        "A-5",
        "C-4",
        "C-5"
      ],
      "session_info": {
        "session_id": "conv_conv_ca5",
        "conversion_timestamp": "20251024152257"
      }
    }
  }
}
2025-10-24 15:22:57,009 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:22:57,009 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:22:57,021 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:22:57,021 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "false",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_b1c7809",
        "conversion_id": "conv_b1c7809fefaa",
        "timestamp": "2025-10-24T15:22:57",
        "protocol": "A_to_A"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:57,021 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:22:57,053 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:22:57,054 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_9b2da74_segsession_conv_conv_9b2da74",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_9b2da74",
              "conversion_id": "conv_9b2da74e82ae",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "True",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "A",
          "target_protocol": "C",
          "conversion_id": "conv_9b2da74e82ae",
          "session_id": "session_conv_conv_9b2da74",
          "timestamp": "2025-10-24T15:22:57",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:57,054 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:22:57,054 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:22:57,058 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:57,058 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 15:22:57,058 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:22:57,069 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:57,069 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "MULTI_WAYPOINT",
  "slots": {
    "origin": "",
    "waypoints": [
      "",
      {
        "name": "",
        "type": "unknown",
        "priority": "NORMAL",
        "estimated_time": "unknown",
        "distance": "unknown",
        "coordinates": "{{ coordinates | default '{}' }}"
      }
    ],
    "avoid_tolls": "False",
    "route_preference": "fastest"
  }
}
2025-10-24 15:22:57,069 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:22:57,069 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:22:57,085 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:22:57,085 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_a042dec",
        "conversion_id": "conv_a042decb0735",
        "timestamp": "2025-10-24T15:22:57",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:22:57,085 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:22:57,116 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:22:57,116 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_8d53118_segsession_conv_conv_8d53118",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_8d53118",
              "conversion_id": "conv_8d53118a2814",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "False",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "B",
          "target_protocol": "C",
          "conversion_id": "conv_8d53118a2814",
          "session_id": "session_conv_conv_8d53118",
          "timestamp": "2025-10-24T15:22:57",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:22:57,116 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:22:57,116 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:22:57,125 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:57,125 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "",
    "urgency": "",
    "route_type": "",
    "coordinates": {
      "latitude": "",
      "longitude": "",
      "address": ""
    }
  }
}
2025-10-24 15:22:57,125 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:22:57,125 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:57,125 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:22:57,125 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:22:57,130 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:22:57,130 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "天山西路",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "",
        "longitude": ""
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:22:57,130 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:22:57,137 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:22:57,137 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 10
2025-10-24 15:22:57,138 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 10
2025-10-24 15:22:57,141 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_33xezxj_\test_results.json
2025-10-24 15:22:57,141 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:344 - 无法删除临时目录（文件可能被锁定）: C:\Users\viki\AppData\Local\Temp\comprehensive_test_33xezxj_
2025-10-24 15:22:57,142 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:345 - 错误信息: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\Users\\viki\\AppData\\Local\\Temp\\comprehensive_test_33xezxj_\\test.db'
2025-10-24 15:22:58,142 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:353 - 跳过临时目录清理，请手动删除: C:\Users\viki\AppData\Local\Temp\comprehensive_test_33xezxj_
2025-10-24 15:22:58,142 | INFO     | test_comprehensive_navigation:<module>:359 - 
=== 所有综合测试完成! ===
2025-10-24 15:23:11,038 | INFO     | test_comprehensive_navigation:<module>:52 - 使用标准logging日志系统
2025-10-24 15:23:11,038 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:248 - 项目根目录: C:\work\gw\protocol_converter
2025-10-24 15:23:11,038 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:249 - Examples目录: C:\work\gw\protocol_converter\examples
2025-10-24 15:23:11,038 | INFO     | test_comprehensive_navigation:setup_test_environment:57 - === 开始综合导航协议测试 ===
2025-10-24 15:23:11,038 | INFO     | test_comprehensive_navigation:setup_test_environment:61 - 使用临时目录: C:\Users\viki\AppData\Local\Temp\comprehensive_test_3y3y310u
2025-10-24 15:23:11,041 | INFO     | test_comprehensive_navigation:setup_test_environment:71 - ✓ 数据库初始化成功
2025-10-24 15:23:11,072 | INFO     | test_comprehensive_navigation:load_protocols:88 - 加载协议目录: C:\work\gw\protocol_converter\examples\protocols
2025-10-24 15:23:11,171 | INFO     | test_comprehensive_navigation:load_protocols:96 - 加载结果: {'total_files': 15, 'loaded_files': 15, 'failed_files': 0, 'errors': []}
2025-10-24 15:23:11,176 | INFO     | test_comprehensive_navigation:load_protocols:100 - 可用协议族: ['A', 'B', 'C']
2025-10-24 15:23:11,176 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 A: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5']
2025-10-24 15:23:11,176 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 B: ['B-1', 'B-2', 'B-3', 'B-4', 'B-5']
2025-10-24 15:23:11,181 | INFO     | test_comprehensive_navigation:load_protocols:104 - 协议族 C: ['C-1', 'C-2', 'C-3', 'C-4', 'C-5']
2025-10-24 15:23:11,181 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-1
2025-10-24 15:23:11,181 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-2
2025-10-24 15:23:11,186 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-3
2025-10-24 15:23:11,186 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-4
2025-10-24 15:23:11,191 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: A-5
2025-10-24 15:23:11,191 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-1
2025-10-24 15:23:11,196 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-2
2025-10-24 15:23:11,196 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-3
2025-10-24 15:23:11,201 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-4
2025-10-24 15:23:11,210 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: B-5
2025-10-24 15:23:11,212 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-1
2025-10-24 15:23:11,214 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-2
2025-10-24 15:23:11,221 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-3
2025-10-24 15:23:11,229 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-4
2025-10-24 15:23:11,262 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:274 - 转换器加载协议: C-5
2025-10-24 15:23:11,262 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-1
2025-10-24 15:23:11,263 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-2
2025-10-24 15:23:11,263 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-3
2025-10-24 15:23:11,263 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-4
2025-10-24 15:23:11,264 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: A-5
2025-10-24 15:23:11,264 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-4
2025-10-24 15:23:11,264 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: B-5
2025-10-24 15:23:11,264 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-3
2025-10-24 15:23:11,265 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-4
2025-10-24 15:23:11,265 | INFO     | test_comprehensive_navigation:load_input_data:124 - 加载输入数据: C-5
2025-10-24 15:23:11,265 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:280 - 加载了 10 个输入数据文件
2025-10-24 15:23:11,265 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> B 转换 ---
2025-10-24 15:23:11,265 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-4)
2025-10-24 15:23:11,275 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:23:11,275 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "31.2204",
        "longitude": "121.4256"
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:23:11,275 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> B (A-5)
2025-10-24 15:23:11,290 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:23:11,290 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_ROUTES",
  "slots": {
    "routes": [
      "",
      {
        "road_name": "",
        "road_type": "{% if loop.index == 1 %}primary{% else %}secondary{% endif %}",
        "sequence": "-1",
        "total_segments": "0",
        "address_info": {
          "full_name": "[MISSING:road_name]",
          "admin_level": "city",
          "is_main_road": "false"
        },
        "location": {
          "coordinates": "{{ coordinates | default '{}' }}",
          "landmark": "未知地点"
        },
        "traffic_info": {
          "congestion_level": "unknown",
          "estimated_time": "未知",
          "distance": "未知"
        },
        "metadata": {
          "processing_id": "conv_conv_aac",
          "processing_progress": "1/1 (100.0%)",
          "conversion_id": "conv_aac6a8ac2e7a",
          "protocol_path": "slots.routes.metadata.protocol_path",
          "is_final_segment": "false"
        }
      }
    ],
    "navigation_options": {
      "vehicle": "car",
      "avoid_tolls": "True",
      "route_preference": "fastest",
      "urgency": "normal"
    },
    "context": {
      "operation": "intersection_navigation",
      "source_format": "B-5",
      "target_protocols": [
        "A-4",
        "A-5",
        "C-4",
        "C-5"
      ],
      "session_info": {
        "session_id": "conv_conv_aac",
        "conversion_timestamp": "20251024152311"
      }
    }
  }
}
2025-10-24 15:23:11,290 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 A -> C 转换 ---
2025-10-24 15:23:11,290 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-4)
2025-10-24 15:23:11,301 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-4
2025-10-24 15:23:11,301 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "",
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "false",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_2de3f02",
        "conversion_id": "conv_2de3f0253d46",
        "timestamp": "2025-10-24T15:23:11",
        "protocol": "A_to_A"
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:23:11,301 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: A -> C (A-5)
2025-10-24 15:23:11,341 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: A-5
2025-10-24 15:23:11,342 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_15fe10e_segsession_conv_conv_15fe10e",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_15fe10e",
              "conversion_id": "conv_15fe10e9bb92",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "True",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "A",
          "target_protocol": "C",
          "conversion_id": "conv_15fe10e9bb92",
          "session_id": "session_conv_conv_15fe10e",
          "timestamp": "2025-10-24T15:23:11",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_UNKNOWN",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:23:11,342 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> A 转换 ---
2025-10-24 15:23:11,342 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-4)
2025-10-24 15:23:11,350 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:23:11,350 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "car",
    "urgency": "normal",
    "route_type": "",
    "coordinates": {
      "latitude": "31.2204",
      "longitude": "121.4256",
      "address": ""
    }
  }
}
2025-10-24 15:23:11,350 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> A (B-5)
2025-10-24 15:23:11,363 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:23:11,363 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "MULTI_WAYPOINT",
  "slots": {
    "origin": "",
    "waypoints": [
      "",
      {
        "name": "",
        "type": "unknown",
        "priority": "NORMAL",
        "estimated_time": "unknown",
        "distance": "unknown",
        "coordinates": "{{ coordinates | default '{}' }}"
      }
    ],
    "avoid_tolls": "False",
    "route_preference": "fastest"
  }
}
2025-10-24 15:23:11,363 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 B -> C 转换 ---
2025-10-24 15:23:11,364 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-4)
2025-10-24 15:23:11,378 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-4
2025-10-24 15:23:11,379 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.route.to_intersection",
  "slots": [
    {
      "name": "PRIMARY_ROAD",
      "value": "天山西路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "high",
        "source_field": "primary_road"
      }
    },
    {
      "name": "SECONDARY_ROAD",
      "value": "仙霞路",
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "road",
        "importance": "medium",
        "source_field": "secondary_road"
      }
    },
    {
      "name": "LOCATION",
      "value": {
        "city": "上海市",
        "district": "长宁区",
        "coordinates": {
          "lat": "31.2204",
          "lng": "121.4256"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "location",
        "importance": "high",
        "is_nested": true
      }
    },
    {
      "name": "NAVIGATION_PARAMS",
      "value": {
        "vehicle": "car",
        "avoid_tolls": "False",
        "urgency": "normal",
        "route_preference": "fastest"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_options",
        "importance": "medium",
        "is_nested": true
      }
    },
    {
      "name": "SESSION_INFO",
      "value": {
        "session_id": "session_conv_conv_9e959bb",
        "conversion_id": "conv_9e959bbd406d",
        "timestamp": "2025-10-24T15:23:11",
        "protocol": "B_to_B"
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "session",
        "importance": "low",
        "auto_generated": true
      }
    }
  ]
}
2025-10-24 15:23:11,379 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: B -> C (B-5)
2025-10-24 15:23:11,415 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: B-5
2025-10-24 15:23:11,415 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "tao": "navigation.multi_route.complex",
  "slots": [
    {
      "name": "ROUTE_SEGMENTS",
      "value": [
        "",
        {
          "segment_id": "session_conv_conv_511322c_segsession_conv_conv_511322c",
          "sequence_info": {
            "index": "-1",
            "total": "0",
            "progress": "1/1 (100.0%)",
            "is_final": "false"
          },
          "road_data": {
            "name": "",
            "type": "SECONDARY",
            "full_address": "[MISSING:road_name]",
            "administrative": {
              "level": "unknown",
              "names": {
                "city": "",
                "district": "",
                "province": ""
              }
            }
          },
          "geographic": {
            "coordinates": "{{ coordinates | default '{}' }}",
            "landmark": {
              "nearest": "未知",
              "distance": "未知",
              "direction": "未知"
            },
            "bounds": {
              "north_east": "{{ bounds_ne | default '{}' }}",
              "south_west": "{{ bounds_sw | default '{}' }}"
            }
          },
          "traffic": {
            "current": {
              "level": "unknown",
              "description": "暂无信息",
              "update_time": "未知"
            },
            "estimates": {
              "duration": "未知",
              "distance": "未知",
              "delay": "0分钟"
            },
            "alternatives": [
              {
                "type": "fastest",
                "time": "未知"
              },
              {
                "type": "shortest",
                "time": "未知"
              }
            ]
          },
          "metadata": {
            "processing": {
              "session_id": "session_conv_conv_511322c",
              "conversion_id": "conv_511322c7e678",
              "render_depth": "4",
              "current_path": "slots.value.metadata.processing.current_path",
              "parent_path": "root"
            },
            "quality": {
              "confidence": "medium",
              "source_reliability": "unknown",
              "last_verified": "未知"
            },
            "annotations": {
              "notes": "",
              "warnings": "[MISSING:segment_warnings]",
              "restrictions": "[MISSING:segment_restrictions]"
            }
          }
        }
      ],
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "dynamic_array",
        "array_processing": true,
        "element_count": "0"
      }
    },
    {
      "name": "NAVIGATION_CONFIG",
      "value": {
        "vehicle": {
          "type": "car",
          "size": "medium",
          "special_requirements": "[MISSING:vehicle_requirements]"
        },
        "preferences": {
          "route": "fastest",
          "avoid_tolls": "False",
          "avoid_highways": "[MISSING:avoid_highways]",
          "avoid_ferries": "[MISSING:avoid_ferries]"
        },
        "constraints": {
          "max_distance": "unlimited",
          "max_time": "unlimited",
          "urgency": "normal",
          "priority_routes": "[MISSING:priority_routes]"
        },
        "context": {
          "time_of_day": "unknown",
          "day_of_week": "unknown",
          "weather_conditions": "unknown",
          "season": "unknown"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "navigation_config",
        "complex_nested": true
      }
    },
    {
      "name": "SYSTEM_METADATA",
      "value": {
        "conversion": {
          "source_protocol": "B",
          "target_protocol": "C",
          "conversion_id": "conv_511322c7e678",
          "session_id": "session_conv_conv_511322c",
          "timestamp": "2025-10-24T15:23:11",
          "processing_duration": "unknown"
        },
        "template": {
          "template_id": "C-5",
          "version": "1.0",
          "features": [
            "dynamic_arrays",
            "complex_nesting",
            "conditional_rendering",
            "jinja2_filters",
            "context_variables"
          ]
        },
        "debug": {
          "render_depth": "3",
          "current_path": "slots.value.value.debug.current_path",
          "array_processing": "[MISSING:__array_total > 0]",
          "total_processed_items": "0"
        }
      },
      "label": "PHONE_TYPE_GENERIC",
      "metadata": {
        "type": "system",
        "auto_generated": true,
        "debug_info": true
      }
    }
  ]
}
2025-10-24 15:23:11,415 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> A 转换 ---
2025-10-24 15:23:11,415 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-4)
2025-10-24 15:23:11,426 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:23:11,426 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "ROUTE_TO",
  "slots": {
    "destination": "",
    "poi_type": "",
    "vehicle_type": "",
    "urgency": "",
    "route_type": "",
    "coordinates": {
      "latitude": "",
      "longitude": "",
      "address": ""
    }
  }
}
2025-10-24 15:23:11,427 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> A (C-5)
2025-10-24 15:23:11,430 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:23:11,430 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:291 - 
--- 测试 C -> B 转换 ---
2025-10-24 15:23:11,430 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-4)
2025-10-24 15:23:11,440 | INFO     | test_comprehensive_navigation:test_conversion:138 - ✓ 转换成功: C-4
2025-10-24 15:23:11,440 | INFO     | test_comprehensive_navigation:test_conversion:141 - 转换结果:
{
  "domain": "navigation",
  "action": "NAVIGATE_TO_INTERSECTION",
  "slots": {
    "intersection": {
      "primary_road": "天山西路",
      "secondary_road": "",
      "city": "上海",
      "district": "长宁区",
      "coordinates": {
        "latitude": "",
        "longitude": ""
      }
    },
    "vehicle_type": "car",
    "avoid_tolls": "false",
    "urgency": "normal"
  }
}
2025-10-24 15:23:11,441 | INFO     | test_comprehensive_navigation:test_conversion:131 - 测试转换: C -> B (C-5)
2025-10-24 15:23:11,446 | ERROR    | test_comprehensive_navigation:test_conversion:144 - ✗ 转换失败: C-5 - expected token 'end of print statement', got 'string'
2025-10-24 15:23:11,446 | INFO     | test_comprehensive_navigation:test_address_splitting_merge:154 - 
=== 测试地址拆分和合并功能 ===
2025-10-24 15:23:11,446 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:308 - 地址拆分合并测试用例: 2
2025-10-24 15:23:11,446 | INFO     | test_comprehensive_navigation:test_dynamic_arrays:193 - 
=== 测试动态数组功能 ===
2025-10-24 15:23:11,446 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:312 - 动态数组测试用例: 1
2025-10-24 15:23:11,446 | INFO     | test_comprehensive_navigation:test_jinja2_features:215 - 
=== 测试Jinja2高级特性 ===
2025-10-24 15:23:11,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:316 - Jinja2特性测试用例: 3
2025-10-24 15:23:11,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:319 - 
=== 测试总结 ===
2025-10-24 15:23:11,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:320 - 总测试数: 10
2025-10-24 15:23:11,447 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:321 - 成功转换: 10
2025-10-24 15:23:11,452 | INFO     | test_comprehensive_navigation:run_comprehensive_tests:327 - 测试结果已保存到: C:\Users\viki\AppData\Local\Temp\comprehensive_test_3y3y310u\test_results.json
2025-10-24 15:23:11,452 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:344 - 无法删除临时目录（文件可能被锁定）: C:\Users\viki\AppData\Local\Temp\comprehensive_test_3y3y310u
2025-10-24 15:23:11,453 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:345 - 错误信息: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\Users\\viki\\AppData\\Local\\Temp\\comprehensive_test_3y3y310u\\test.db'
2025-10-24 15:23:12,453 | WARNING  | test_comprehensive_navigation:run_comprehensive_tests:353 - 跳过临时目录清理，请手动删除: C:\Users\viki\AppData\Local\Temp\comprehensive_test_3y3y310u
2025-10-24 15:23:12,453 | INFO     | test_comprehensive_navigation:<module>:359 - 
=== 所有综合测试完成! ===
